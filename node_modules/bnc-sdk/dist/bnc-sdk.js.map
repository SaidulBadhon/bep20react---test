{"version":3,"file":"bnc-sdk.js","sources":["../node_modules/lodash.defaults/index.js","../node_modules/sturdy-websocket/src/index.ts","../src/state.ts","../src/utilities.ts","../src/messages.ts","../src/validation.ts","../src/transaction.ts","../src/account.ts","../src/event.ts","../src/bnc-sdk.ts"],"sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction assignInDefaults(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(args) {\n  args.push(undefined, assignInDefaults);\n  return apply(assignInWith, undefined, args);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = defaults;\n","import defaults = require(\"lodash.defaults\");\n\nexport interface Options {\n    allClearResetTime?: number;\n    connectTimeout?: number;\n    debug?: boolean;\n    minReconnectDelay?: number;\n    maxReconnectDelay?: number;\n    maxReconnectAttempts?: number;\n    reconnectBackoffFactor?: number;\n    wsConstructor?: new (\n        url: string,\n        protocols?: string | string[],\n    ) => WebSocket;\n    shouldReconnect?(closeEvent: CloseEvent): boolean | Promise<boolean>;\n}\n\ninterface SturdyWebSocketEventMap extends WebSocketEventMap {\n    down: CloseEvent;\n    reopen: Event;\n}\n\ntype WebSocketListener<K extends keyof SturdyWebSocketEventMap> = (\n    this: WebSocket,\n    event: SturdyWebSocketEventMap[K],\n) => any;\n\ntype WebSocketListeners = {\n    [K in keyof SturdyWebSocketEventMap]?: Array<WebSocketListener<K>>;\n} & {\n    [key: string]: EventListenerOrEventListenerObject[];\n};\n\nconst SHOULD_RECONNECT_FALSE_MESSAGE =\n    \"Provided shouldReconnect() returned false. Closing permanently.\";\nconst SHOULD_RECONNECT_PROMISE_FALSE_MESSAGE =\n    \"Provided shouldReconnect() resolved to false. Closing permanently.\";\n\nexport default class SturdyWebSocket implements WebSocket {\n    public static readonly DEFAULT_OPTIONS: Required<Options> = {\n        allClearResetTime: 5000,\n        connectTimeout: 5000,\n        debug: false,\n        minReconnectDelay: 1000,\n        maxReconnectDelay: 30000,\n        maxReconnectAttempts: Number.POSITIVE_INFINITY,\n        reconnectBackoffFactor: 1.5,\n        shouldReconnect: () => true,\n        wsConstructor: undefined!,\n    };\n\n    public static readonly CONNECTING = 0;\n    public static readonly OPEN = 1;\n    public static readonly CLOSING = 2;\n    public static readonly CLOSED = 3;\n\n    public onclose: ((event: CloseEvent) => void) | null = null;\n    public onerror: ((event: Event) => void) | null = null;\n    public onmessage: ((event: MessageEvent) => void) | null = null;\n    public onopen: ((event: Event) => void) | null = null;\n    public ondown: ((event: CloseEvent) => void) | null = null;\n    public onreopen: ((event: Event) => void) | null = null;\n    public readonly CONNECTING = SturdyWebSocket.CONNECTING;\n    public readonly OPEN = SturdyWebSocket.OPEN;\n    public readonly CLOSING = SturdyWebSocket.CLOSING;\n    public readonly CLOSED = SturdyWebSocket.CLOSED;\n\n    private readonly protocols?: string | string[];\n    private readonly options: Required<Options>;\n    private ws?: WebSocket;\n    private hasBeenOpened = false;\n    private isClosed = false;\n    private messageBuffer: any[] = [];\n    private nextRetryTime: number = 0;\n    private reconnectCount = 0;\n    private allClearTimeoutId?: any;\n    private connectTimeoutId?: any;\n    private binaryTypeInternal?: BinaryType;\n    private lastKnownExtensions = \"\";\n    private lastKnownProtocol = \"\";\n    private readonly listeners: WebSocketListeners = {};\n\n    constructor(url: string, options?: Options);\n    constructor(\n        url: string,\n        protocols: string | string[] | undefined,\n        options?: Options,\n    );\n    constructor(\n        public readonly url: string,\n        protocolsOrOptions?: string | string[] | Options,\n        options?: Options,\n    ) {\n        if (\n            protocolsOrOptions == null ||\n            typeof protocolsOrOptions === \"string\" ||\n            Array.isArray(protocolsOrOptions)\n        ) {\n            this.protocols = protocolsOrOptions;\n        } else {\n            options = protocolsOrOptions;\n        }\n        this.options = defaults({}, options, SturdyWebSocket.DEFAULT_OPTIONS);\n        if (!this.options.wsConstructor) {\n            if (typeof WebSocket !== \"undefined\") {\n                this.options.wsConstructor = WebSocket;\n            } else {\n                throw new Error(\n                    \"WebSocket not present in global scope and no \" +\n                        \"wsConstructor option was provided.\",\n                );\n            }\n        }\n        this.openNewWebSocket();\n    }\n\n    public get binaryType(): BinaryType {\n        return this.binaryTypeInternal || \"blob\";\n    }\n\n    public set binaryType(binaryType: BinaryType) {\n        this.binaryTypeInternal = binaryType;\n        if (this.ws) {\n            this.ws.binaryType = binaryType;\n        }\n    }\n\n    public get bufferedAmount(): number {\n        let sum = this.ws ? this.ws.bufferedAmount : 0;\n        let hasUnknownAmount = false;\n        this.messageBuffer.forEach(data => {\n            const byteLength = getDataByteLength(data);\n            if (byteLength != null) {\n                sum += byteLength;\n            } else {\n                hasUnknownAmount = true;\n            }\n        });\n        if (hasUnknownAmount) {\n            this.debugLog(\n                \"Some buffered data had unknown length. bufferedAmount()\" +\n                    \" return value may be below the correct amount.\",\n            );\n        }\n        return sum;\n    }\n\n    public get extensions(): string {\n        return this.ws ? this.ws.extensions : this.lastKnownExtensions;\n    }\n\n    public get protocol(): string {\n        return this.ws ? this.ws.protocol : this.lastKnownProtocol;\n    }\n\n    public get readyState(): number {\n        return this.isClosed ? SturdyWebSocket.CLOSED : SturdyWebSocket.OPEN;\n    }\n\n    public close(code?: number, reason?: string): void {\n        if (this.ws) {\n            this.ws.close(code, reason);\n        }\n        this.shutdown();\n        this.debugLog(\"WebSocket permanently closed by client.\");\n    }\n\n    public send(data: any): void {\n        if (this.ws && this.ws.readyState === this.OPEN) {\n            this.ws.send(data);\n        } else {\n            this.messageBuffer.push(data);\n        }\n    }\n\n    public addEventListener<K extends keyof SturdyWebSocketEventMap>(\n        type: K,\n        listener: (this: WebSocket, event: SturdyWebSocketEventMap[K]) => void,\n    ): void;\n    public addEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n    ): void;\n    public addEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n    ): void {\n        if (!this.listeners[type]) {\n            this.listeners[type] = [];\n        }\n        this.listeners[type].push(listener);\n    }\n\n    public dispatchEvent(event: Event): boolean {\n        return this.dispatchEventOfType(event.type, event);\n    }\n\n    public removeEventListener<K extends keyof SturdyWebSocketEventMap>(\n        type: K,\n        listener: (this: WebSocket, event: SturdyWebSocketEventMap[K]) => void,\n    ): void;\n    public removeEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n    ): void;\n    public removeEventListener(\n        type: string,\n        listener: EventListenerOrEventListenerObject,\n    ): void {\n        if (this.listeners[type]) {\n            this.listeners[type] = this.listeners[type].filter(\n                l => l !== listener,\n            );\n        }\n    }\n\n    private openNewWebSocket(): void {\n        if (this.isClosed) {\n            return;\n        }\n        const { connectTimeout, wsConstructor } = this.options;\n        this.debugLog(`Opening new WebSocket to ${this.url}.`);\n        const ws = new wsConstructor(this.url, this.protocols);\n        ws.onclose = event => this.handleClose(event);\n        ws.onerror = event => this.handleError(event);\n        ws.onmessage = event => this.handleMessage(event);\n        ws.onopen = event => this.handleOpen(event);\n        this.connectTimeoutId = setTimeout(() => {\n            // If this is running, we still haven't opened the websocket.\n            // Kill it so we can try again.\n            this.clearConnectTimeout();\n            ws.close();\n        }, connectTimeout);\n        this.ws = ws;\n    }\n\n    private handleOpen(event: Event): void {\n        if (!this.ws || this.isClosed) {\n            return;\n        }\n        const { allClearResetTime } = this.options;\n        this.debugLog(\"WebSocket opened.\");\n        if (this.binaryTypeInternal != null) {\n            this.ws.binaryType = this.binaryTypeInternal;\n        } else {\n            this.binaryTypeInternal = this.ws.binaryType;\n        }\n        this.clearConnectTimeout();\n        if (this.hasBeenOpened) {\n            this.dispatchEventOfType(\"reopen\", event);\n        } else {\n            this.dispatchEventOfType(\"open\", event);\n            this.hasBeenOpened = true;\n        }\n        this.messageBuffer.forEach(message => this.send(message));\n        this.messageBuffer = [];\n        this.allClearTimeoutId = setTimeout(() => {\n            this.clearAllClearTimeout();\n            this.nextRetryTime = 0;\n            this.reconnectCount = 0;\n            const openTime = (allClearResetTime / 1000) | 0;\n            this.debugLog(\n                `WebSocket remained open for ${openTime} seconds. Resetting` +\n                    \" retry time and count.\",\n            );\n        }, allClearResetTime);\n    }\n\n    private handleMessage(event: MessageEvent): void {\n        if (this.isClosed) {\n            return;\n        }\n        this.dispatchEventOfType(\"message\", event);\n    }\n\n    private handleClose(event: CloseEvent): void {\n        if (this.isClosed) {\n            return;\n        }\n        const { maxReconnectAttempts, shouldReconnect } = this.options;\n        this.clearConnectTimeout();\n        this.clearAllClearTimeout();\n        if (this.ws) {\n            this.lastKnownExtensions = this.ws.extensions;\n            this.lastKnownProtocol = this.ws.protocol;\n            this.ws = undefined;\n        }\n        this.dispatchEventOfType(\"down\", event);\n        if (this.reconnectCount >= maxReconnectAttempts) {\n            this.stopReconnecting(\n                event,\n                this.getTooManyFailedReconnectsMessage(),\n            );\n            return;\n        }\n        const willReconnect = shouldReconnect(event);\n        if (typeof willReconnect === \"boolean\") {\n            this.handleWillReconnect(\n                willReconnect,\n                event,\n                SHOULD_RECONNECT_FALSE_MESSAGE,\n            );\n        } else {\n            willReconnect.then(willReconnectResolved => {\n                if (this.isClosed) {\n                    return;\n                }\n                this.handleWillReconnect(\n                    willReconnectResolved,\n                    event,\n                    SHOULD_RECONNECT_PROMISE_FALSE_MESSAGE,\n                );\n            });\n        }\n    }\n\n    private handleError(event: Event): void {\n        this.dispatchEventOfType(\"error\", event);\n        this.debugLog(\"WebSocket encountered an error.\");\n    }\n\n    private handleWillReconnect(\n        willReconnect: boolean,\n        event: CloseEvent,\n        denialReason: string,\n    ): void {\n        if (willReconnect) {\n            this.reconnect();\n        } else {\n            this.stopReconnecting(event, denialReason);\n        }\n    }\n\n    private reconnect(): void {\n        const {\n            minReconnectDelay,\n            maxReconnectDelay,\n            reconnectBackoffFactor,\n        } = this.options;\n        this.reconnectCount++;\n        const retryTime = this.nextRetryTime;\n        this.nextRetryTime = Math.max(\n            minReconnectDelay,\n            Math.min(\n                this.nextRetryTime * reconnectBackoffFactor,\n                maxReconnectDelay,\n            ),\n        );\n        setTimeout(() => this.openNewWebSocket(), retryTime);\n        const retryTimeSeconds = (retryTime / 1000) | 0;\n        this.debugLog(\n            `WebSocket was closed. Re-opening in ${retryTimeSeconds} seconds.`,\n        );\n    }\n\n    private stopReconnecting(event: CloseEvent, debugReason: string): void {\n        this.debugLog(debugReason);\n        this.shutdown();\n        this.dispatchEventOfType(\"close\", event);\n    }\n\n    private shutdown(): void {\n        this.isClosed = true;\n        this.clearAllTimeouts();\n        this.messageBuffer = [];\n    }\n\n    private clearAllTimeouts(): void {\n        this.clearConnectTimeout();\n        this.clearAllClearTimeout();\n    }\n\n    private clearConnectTimeout(): void {\n        if (this.connectTimeoutId != null) {\n            clearTimeout(this.connectTimeoutId);\n            this.connectTimeoutId = undefined;\n        }\n    }\n\n    private clearAllClearTimeout(): void {\n        if (this.allClearTimeoutId != null) {\n            clearTimeout(this.allClearTimeoutId);\n            this.allClearTimeoutId = undefined;\n        }\n    }\n\n    private dispatchEventOfType(type: string, event: any): boolean {\n        switch (type) {\n            case \"close\":\n                if (this.onclose) {\n                    this.onclose(event);\n                }\n                break;\n            case \"error\":\n                if (this.onerror) {\n                    this.onerror(event);\n                }\n                break;\n            case \"message\":\n                if (this.onmessage) {\n                    this.onmessage(event);\n                }\n                break;\n            case \"open\":\n                if (this.onopen) {\n                    this.onopen(event);\n                }\n                break;\n            case \"down\":\n                if (this.ondown) {\n                    this.ondown(event);\n                }\n                break;\n            case \"reopen\":\n                if (this.onreopen) {\n                    this.onreopen(event);\n                }\n                break;\n        }\n        if (type in this.listeners) {\n            this.listeners[type]\n                .slice()\n                .forEach(listener => this.callListener(listener, event));\n        }\n        return !event || !(event as Event).defaultPrevented;\n    }\n\n    private callListener(\n        listener: EventListenerOrEventListenerObject,\n        event: Event,\n    ): void {\n        if (typeof listener === \"function\") {\n            listener.call(this, event);\n        } else {\n            listener.handleEvent.call(this, event);\n        }\n    }\n\n    private debugLog(message: string): void {\n        if (this.options.debug) {\n            // tslint:disable-next-line:no-console\n            console.log(message);\n        }\n    }\n\n    private getTooManyFailedReconnectsMessage(): string {\n        const { maxReconnectAttempts } = this.options;\n        return `Failed to reconnect after ${maxReconnectAttempts} ${pluralize(\n            \"attempt\",\n            maxReconnectAttempts,\n        )}. Closing permanently.`;\n    }\n}\n\nfunction getDataByteLength(data: any): number | undefined {\n    if (typeof data === \"string\") {\n        // UTF-16 strings use two bytes per character.\n        return 2 * data.length;\n    } else if (data instanceof ArrayBuffer) {\n        return data.byteLength;\n    } else if (data instanceof Blob) {\n        return data.size;\n    } else {\n        return undefined;\n    }\n}\n\nfunction pluralize(s: string, n: number): string {\n    return n === 1 ? s : `${s}s`;\n}\n","import { Session } from './interfaces'\n\nexport let session: Session = {\n  socket: null,\n  pendingSocketConnection: false,\n  socketConnection: false,\n  networkId: 1,\n  dappId: '',\n  connectionId: '',\n  clients: [],\n  status: {\n    nodeSynced: true,\n    connected: false\n  }\n}\n","import { version } from '../package.json'\nimport { session } from './state'\n\nimport { Emitter, EventObject, NotificationObject } from './interfaces'\n\nexport function createEmitter(): Emitter {\n  return {\n    listeners: {},\n    on: function(eventCode, listener) {\n      // check if valid eventCode\n      switch (eventCode) {\n        case 'txSent':\n        case 'txPool':\n        case 'txConfirmed':\n        case 'txSpeedUp':\n        case 'txCancel':\n        case 'txFailed':\n        case 'all':\n          break\n        default:\n          throw new Error(\n            `${eventCode} is not a valid event code, for a list of valid event codes see: https://github.com/blocknative/sdk`\n          )\n      }\n\n      // check that listener is a function\n      if (typeof listener !== 'function') {\n        throw new Error('Listener must be a function')\n      }\n\n      // add listener for the eventCode\n      this.listeners[eventCode] = listener\n    },\n    emit: function(state) {\n      if (this.listeners[state.eventCode]) {\n        return this.listeners[state.eventCode](state)\n      }\n\n      if (this.listeners.all) {\n        return this.listeners.all(state)\n      }\n    }\n  }\n}\n\nexport function createEventLog(msg: EventObject): string {\n  const { dappId, networkId } = session\n\n  return JSON.stringify({\n    timeStamp: new Date(),\n    dappId,\n    version,\n    blockchain: {\n      system: 'ethereum',\n      network: networkName(networkId)\n    },\n    ...msg\n  })\n}\n\nexport function networkName(id: number): string {\n  switch (id) {\n    case 1:\n      return 'main'\n    case 3:\n      return 'ropsten'\n    case 4:\n      return 'rinkeby'\n    case 5:\n      return 'goerli'\n    case 42:\n      return 'kovan'\n    default:\n      return 'local'\n  }\n}\n\nexport function serverEcho(eventCode: string): boolean {\n  switch (eventCode) {\n    case 'txRequest':\n    case 'nsfFail':\n    case 'txRepeat':\n    case 'txAwaitingApproval':\n    case 'txConfirmReminder':\n    case 'txSendFail':\n    case 'txError':\n    case 'txUnderPriced':\n    case 'txSent':\n      return true\n    default:\n      return false\n  }\n}\n\nexport function last(\n  arr: (undefined | boolean | NotificationObject)[]\n): undefined | boolean | NotificationObject {\n  return arr.reverse()[0]\n}\n","import { session } from './state'\nimport { createEventLog, networkName, serverEcho, last } from './utilities'\n\nimport { Ac, Tx, Emitter, EventObject, TransactionHandler, Client } from './interfaces'\n\nexport function sendMessage(msg: EventObject) {\n  session.socket.send(createEventLog(msg))\n}\n\nexport function handleMessage(msg: { data: string }): void {\n  const { status, reason, event, nodeSyncStatus, connectionId } = JSON.parse(msg.data)\n\n  if (connectionId) {\n    if (typeof window !== 'undefined') {\n      window.localStorage.setItem('connectionId', connectionId)\n    } else {\n      session.connectionId = connectionId\n    }\n  }\n\n  // handle node sync status change\n  if (\n    nodeSyncStatus !== undefined &&\n    nodeSyncStatus.blockchain === 'ethereum' &&\n    nodeSyncStatus.network === networkName(session.networkId)\n  ) {\n    session.status.nodeSynced = nodeSyncStatus.synced\n  }\n\n  // handle any errors from the server\n  if (status === 'error') {\n    if (reason.includes('not a valid API key')) {\n      const errorObj = new Error(reason)\n      throw errorObj\n    }\n\n    if (reason.includes('network not supported')) {\n      const errorObj = new Error(reason)\n      throw errorObj\n    }\n\n    if (reason.includes('maximum allowed amount')) {\n      const errorObj = new Error(reason)\n      throw errorObj\n    }\n  }\n\n  if (event && event.transaction) {\n    const { transaction, eventCode, contractCall } = event\n\n    // flatten in to one object\n    const newState = { ...transaction, eventCode, contractCall }\n\n    // ignore server echo messages\n    if (serverEcho(eventCode)) {\n      return\n    }\n\n    // handle change of hash in speedup and cancel events\n    if (eventCode === 'txSpeedUp' || eventCode === 'txCancel') {\n      session.clients.forEach((client: Client) => {\n        client.transactions = client.transactions.map((tx: Tx) => {\n          if (tx.hash === transaction.originalHash) {\n            // reassign hash parameter in transaction queue to new hash\n            tx.hash = transaction.hash\n          }\n          return tx\n        })\n      })\n    }\n\n    const watchedAddress = transaction.watchedAddress && transaction.watchedAddress.toLowerCase()\n\n    if (watchedAddress) {\n      session.clients.forEach((client: Client) => {\n        const { transactionHandlers, accounts } = client\n\n        const accountObj = accounts.find((ac: Ac) => ac.address === watchedAddress)\n\n        // no accountObj then this client isn't concerned with this notification\n        if (!accountObj) return\n\n        let emitterResult =\n          accountObj && last(accountObj.emitters.map((emitter: Emitter) => emitter.emit(newState)))\n\n        transactionHandlers.forEach((handler: TransactionHandler) =>\n          handler({ transaction: newState, emitterResult })\n        )\n      })\n    } else {\n      session.clients.forEach((client: Client) => {\n        const { transactionHandlers, transactions } = client\n\n        const transactionObj = transactions.find((tx: Tx) => tx.hash === transaction.hash)\n\n        // no transactionObj then this client isn't concerned with this notification\n        if (!transactionObj) return\n\n        let emitterResult = transactionObj && transactionObj.emitter.emit(newState)\n\n        transactionHandlers.forEach((handler: TransactionHandler) =>\n          handler({ transaction: newState, emitterResult })\n        )\n      })\n    }\n  }\n}\n","import { EventObject } from './interfaces'\n\nexport function validateType(options: {\n  name: string\n  value: any\n  type: string\n  optional?: boolean\n  customValidation?: (val: any) => boolean\n}): never | void {\n  const { name, value, type, optional, customValidation } = options\n\n  if (!optional && typeof value === 'undefined') {\n    throw new Error(`\"${name}\" is required`)\n  }\n\n  if (\n    typeof value !== 'undefined' &&\n    (type === 'array' ? Array.isArray(type) : typeof value !== type)\n  ) {\n    throw new Error(\n      `\"${name}\" must be of type: ${type}, received type: ${typeof value} from value: ${value}`\n    )\n  }\n\n  if (typeof value !== 'undefined' && customValidation && !customValidation(value)) {\n    throw new Error(`\"${value}\" is not a valid \"${name}\"`)\n  }\n}\n\nexport function validateOptions(options: any): never | void {\n  validateType({ name: 'sdk options', value: options, type: 'object' })\n\n  const { dappId, networkId, transactionHandler, apiUrl, ws } = options\n\n  validateType({ name: 'dappId', value: dappId, type: 'string' })\n  validateType({ name: 'networkId', value: networkId, type: 'number' })\n  validateType({\n    name: 'transactionHandler',\n    value: transactionHandler,\n    type: 'function',\n    optional: true\n  })\n  validateType({ name: 'apiUrl', value: apiUrl, type: 'string', optional: true })\n  validateType({ name: 'ws', value: ws, type: 'function', optional: true })\n}\n\nexport function validateTransaction(clientIndex: number, hash: string, id?: string): never | void {\n  validateType({ name: 'clientIndex', value: clientIndex, type: 'number' })\n  validateType({ name: 'hash', value: hash, type: 'string', customValidation: validTxHash })\n  validateType({ name: 'id', value: id, type: 'string', optional: true })\n}\n\nexport function validateAccount(clientIndex: number, address: string): never | void {\n  validateType({ name: 'clientIndex', value: clientIndex, type: 'number' })\n  validateType({ name: 'address', value: address, type: 'string', customValidation: isAddress })\n}\n\nexport function validateEvent(eventObj: EventObject): never | void {\n  validateType({ name: 'eventObj', value: eventObj, type: 'object' })\n\n  const { eventCode, categoryCode, transaction, wallet, contract } = eventObj\n\n  validateType({ name: 'eventCode', value: eventCode, type: 'string' })\n  validateType({ name: 'categoryCode', value: categoryCode, type: 'string' })\n\n  validateType({ name: 'transaction', value: transaction, type: 'object', optional: true })\n\n  if (transaction) {\n    const { id, to, from, value, gas, gasPrice, nonce, status, startTime } = transaction\n\n    validateType({ name: 'id', value: id, type: 'string', optional: true })\n    validateType({\n      name: 'to',\n      value: to,\n      type: 'string',\n      optional: true,\n      customValidation: isAddress\n    })\n    validateType({\n      name: 'from',\n      value: from,\n      type: 'string',\n      optional: true,\n      customValidation: isAddress\n    })\n    validateType({ name: 'value', value: value, type: 'string', optional: true })\n    validateType({ name: 'gas', value: gas, type: 'string', optional: true })\n    validateType({ name: 'gasPrice', value: gasPrice, type: 'string', optional: true })\n    validateType({ name: 'nonce', value: nonce, type: 'number', optional: true })\n    validateType({ name: 'status', value: status, type: 'string', optional: true })\n    validateType({ name: 'startTime', value: startTime, type: 'number', optional: true })\n  }\n\n  validateType({ name: 'wallet', value: wallet, type: 'object', optional: true })\n\n  if (wallet) {\n    const { balance } = wallet\n    validateType({ name: 'balance', value: balance, type: 'string', optional: true })\n  }\n\n  validateType({ name: 'contract', value: contract, type: 'object', optional: true })\n\n  if (contract) {\n    const { methodName, parameters } = contract\n    validateType({ name: 'methodName', value: methodName, type: 'string', optional: true })\n    validateType({ name: 'parameters', value: parameters, type: 'array', optional: true })\n  }\n}\n\nfunction isAddress(address: string): boolean {\n  return /^(0x)?[0-9a-fA-F]{40}$/.test(address)\n}\n\nfunction validTxHash(hash: string): boolean {\n  return /^0x([A-Fa-f0-9]{64})$/.test(hash)\n}\n","import { createEmitter } from './utilities'\nimport { session } from './state'\nimport { sendMessage } from './messages'\n\nimport { Emitter, TransactionLog, TransactionHandler } from './interfaces'\nimport { validateTransaction } from './validation'\n\nfunction transaction(clientIndex: number, hash: string, id: undefined | string) {\n  validateTransaction(clientIndex, hash, id)\n\n  // create startTime for transaction\n  const startTime: number = Date.now()\n\n  // create emitter for transaction\n  const emitter: Emitter = createEmitter()\n\n  // create eventCode for transaction\n  const eventCode: string = 'txSent'\n\n  const client = session.clients[clientIndex]\n\n  // put in queue\n  client.transactions.push({\n    hash,\n    emitter\n  })\n\n  const transaction: TransactionLog = {\n    hash,\n    id: id || hash,\n    startTime,\n    status: 'sent'\n  }\n\n  const newState = {\n    ...transaction,\n    eventCode\n  }\n\n  // logEvent to server\n  sendMessage({\n    eventCode,\n    categoryCode: 'activeTransaction',\n    transaction\n  })\n\n  const transactionObj = {\n    details: transaction,\n    emitter\n  }\n\n  // emit after delay to allow for listener to be registered\n  setTimeout(() => {\n    const emitterResult = emitter.emit(newState)\n    client.transactionHandlers.forEach((handler: TransactionHandler) =>\n      handler({ transaction: newState, emitterResult })\n    )\n  }, 5)\n\n  return transactionObj\n}\n\nexport default transaction\n","import { createEmitter } from './utilities'\nimport { session } from './state'\nimport { sendMessage } from './messages'\n\nimport { Emitter, Ac } from './interfaces'\nimport { validateAccount } from './validation'\n\nfunction account(\n  clientIndex: number,\n  address: string\n): { emitter: Emitter; details: { address: string } } {\n  validateAccount(clientIndex, address)\n\n  // lowercase the address\n  address = address.toLowerCase()\n\n  // create emitter for transaction\n  const emitter: Emitter = createEmitter()\n\n  // create eventCode for transaction\n  const eventCode: string = 'accountAddress'\n\n  const existingAddressWatcher = session.clients[clientIndex].accounts.find(\n    (ac: Ac) => ac.address === address\n  )\n\n  if (existingAddressWatcher) {\n    // add to existing emitters array\n    existingAddressWatcher.emitters.push(emitter)\n  } else {\n    // put in accounts queue\n    session.clients[clientIndex].accounts.push({\n      address,\n      emitters: [emitter]\n    })\n  }\n\n  // logEvent to server\n  sendMessage({\n    eventCode,\n    categoryCode: 'watch',\n    account: {\n      address\n    }\n  })\n\n  return {\n    emitter,\n    details: {\n      address\n    }\n  }\n}\n\nexport default account\n","import { sendMessage } from './messages'\n\nimport { EventObject } from './interfaces'\nimport { validateEvent } from './validation'\n\nfunction event(eventObj: EventObject): void {\n  validateEvent(eventObj)\n  sendMessage(eventObj)\n}\n\nexport default event\n","import SturdyWebSocket from 'sturdy-websocket'\n\nimport transaction from './transaction'\nimport account from './account'\nimport event from './event'\n\nimport { sendMessage, handleMessage } from './messages'\nimport { session } from './state'\n\nimport { InitializationOptions, Ac, API, Client } from './interfaces'\nimport { validateOptions } from './validation'\n\nlet clientIndex: number = 0\n\nexport default function sdk(options: InitializationOptions): API {\n  validateOptions(options)\n\n  const { dappId, networkId, transactionHandlers = [], apiUrl, ws } = options\n  const alreadyConnected = !!session.socket\n\n  session.dappId = dappId\n  session.networkId = networkId\n  session.clients.push({\n    transactionHandlers,\n    transactions: [],\n    accounts: []\n  })\n\n  if (!alreadyConnected) {\n    if (ws) {\n      session.socket = new SturdyWebSocket(apiUrl || 'wss://api.blocknative.com/v0', {\n        wsConstructor: ws\n      })\n    } else {\n      session.socket = new SturdyWebSocket(apiUrl || 'wss://api.blocknative.com/v0')\n    }\n\n    session.socket.onopen = () => {\n      session.status.connected = true\n\n      const connectionId =\n        (typeof window !== 'undefined' && window.localStorage.getItem('connectionId')) ||\n        session.connectionId\n\n      sendMessage({\n        categoryCode: 'initialize',\n        eventCode: 'checkDappId',\n        connectionId\n      })\n    }\n\n    session.socket.ondown = () => {\n      session.status.connected = false\n    }\n\n    session.socket.onreopen = () => {\n      session.status.connected = true\n\n      const connectionId =\n        (typeof window !== 'undefined' && window.localStorage.getItem('connectionId')) ||\n        session.connectionId\n\n      sendMessage({\n        categoryCode: 'initialize',\n        eventCode: 'checkDappId',\n        connectionId\n      })\n\n      // re-register all accounts to be watched by server upon\n      // re-connection as they don't get transferred over automatically\n      // to the new connection like tx hashes do\n      session.clients.forEach((client: Client) => {\n        client.accounts.forEach((account: Ac) => {\n          sendMessage({\n            eventCode: 'accountAddress',\n            categoryCode: 'watch',\n            account: {\n              address: account.address\n            }\n          })\n        })\n      })\n    }\n\n    session.socket.onmessage = handleMessage\n  }\n  return {\n    transaction,\n    account,\n    event,\n    status: session.status,\n    clientIndex: clientIndex++\n  }\n}\n"],"names":["defaults"],"mappings":"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"}